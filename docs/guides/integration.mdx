---
title: Integration Guide
description: Add dioxus-docs-kit to your own Dioxus project step by step
sidebarTitle: Integration
icon: plug
---

## Overview

This guide walks you through adding `dioxus-docs-kit` to an existing Dioxus 0.7 project. By the end, you'll have a fully functional documentation site with sidebar navigation, search, and optional OpenAPI reference pages.

## Prerequisites

- A working Dioxus 0.7 project with `features = ["router", "fullstack"]`
- The Dioxus CLI (`dx`): `curl -sSL http://dioxus.dev/install.sh | sh`

## Setup

<Steps>
  <Step title="Add dependencies">
    Add `dioxus-docs-kit` to your `Cargo.toml`:

    ```toml
    [dependencies]
    dioxus-docs-kit = { path = "crates/dioxus-docs-kit" }

    [build-dependencies]
    serde = { version = "1.0", features = ["derive"] }
    serde_json = "1.0"
    ```

    <Note>
    Until `dioxus-docs-kit` is published on crates.io, use a path or git dependency.
    </Note>
  </Step>

  <Step title="Create the docs directory">
    Create your content structure:

    ```text
    docs/
    ├── _nav.json
    ├── getting-started/
    │   └── introduction.mdx
    └── api-reference/
        └── overview.mdx
    ```

    Each `.mdx` file needs frontmatter:

    ```mdx
    ---
    title: Introduction
    description: Welcome to the docs
    sidebarTitle: Introduction
    icon: book-open
    ---

    Your content here.
    ```
  </Step>

  <Step title="Configure navigation">
    Create `docs/_nav.json`:

    ```json
    {
      "tabs": ["Docs", "API Reference"],
      "groups": [
        {
          "group": "Getting Started",
          "tab": "Docs",
          "pages": ["getting-started/introduction"]
        },
        {
          "group": "API Reference",
          "tab": "API Reference",
          "pages": ["api-reference/overview"]
        }
      ]
    }
    ```
  </Step>

  <Step title="Create build.rs">
    Add a `build.rs` at the project root to embed content at compile time:

    ```rust
    use serde::Deserialize;
    use std::env;
    use std::fs;
    use std::path::Path;

    #[derive(Deserialize)]
    struct NavConfig {
        groups: Vec<NavGroup>,
    }

    #[derive(Deserialize)]
    struct NavGroup {
        pages: Vec<String>,
    }

    fn main() {
        let manifest_dir = env::var("CARGO_MANIFEST_DIR").unwrap();
        let nav_path = "docs/_nav.json";
        println!("cargo:rerun-if-changed={nav_path}");

        let json = fs::read_to_string(nav_path)
            .expect("Failed to read docs/_nav.json");
        let nav: NavConfig = serde_json::from_str(&json)
            .expect("Failed to parse docs/_nav.json");

        let mut code = String::from(
            "// Auto-generated by build.rs\n{\n    let mut map = std::collections::HashMap::new();\n",
        );

        for group in &nav.groups {
            for page in &group.pages {
                let mdx_path = format!("docs/{page}.mdx");
                println!("cargo:rerun-if-changed={mdx_path}");
                let abs_path = format!("{manifest_dir}/{mdx_path}");
                code.push_str(&format!(
                    "    map.insert(\"{page}\", include_str!(\"{abs_path}\"));\n"
                ));
            }
        }

        code.push_str("    map\n}\n");

        let out_dir = env::var("OUT_DIR").unwrap();
        let dest = Path::new(&out_dir).join("doc_content_generated.rs");
        fs::write(&dest, code).expect("Failed to write generated file");
    }
    ```
  </Step>

  <Step title="Wire up the registry">
    In `main.rs`, create the `DocsRegistry` and set up routing:

    ```rust
    use dioxus::prelude::*;
    use dioxus_docs_kit::{
        DocsConfig, DocsContext, DocsLayout, DocsPageContent, DocsRegistry,
    };
    use std::collections::HashMap;
    use std::sync::LazyLock;

    fn doc_content_map() -> HashMap<&'static str, &'static str> {
        include!(concat!(env!("OUT_DIR"), "/doc_content_generated.rs"))
    }

    static DOCS: LazyLock<DocsRegistry> = LazyLock::new(|| {
        DocsConfig::new(
            include_str!("../docs/_nav.json"),
            doc_content_map(),
        )
        .with_default_path("getting-started/introduction")
        .build()
    });
    ```

    To include an OpenAPI spec, chain `.with_openapi()`:

    ```rust
    DocsConfig::new(nav_json, content_map)
        .with_openapi(
            "api-reference",
            include_str!("../docs/api-reference/openapi.yaml"),
        )
        .build()
    ```
  </Step>

  <Step title="Create the docs layout wrapper">
    Create a layout component that provides `DocsContext` and the registry:

    ```rust
    #[component]
    fn MyDocsLayout() -> Element {
        let navigator = use_navigator();
        let route: Route = use_route();

        // Derive current path from route
        let path = match route {
            Route::DocsPage { ref slug } => slug.join("/"),
            _ => DOCS.default_path().to_string(),
        };

        let path_signal = use_signal(move || path.clone());

        use_context_provider(|| DocsContext {
            current_path: path_signal.into(),
            base_path: "/docs".to_string(),
            navigate: Callback::new(move |href: String| {
                navigator.push(NavigationTarget::Internal(href));
            }),
        });

        use_context_provider::<&'static DocsRegistry>(|| &*DOCS);

        rsx! { DocsLayout {} }
    }
    ```
  </Step>

  <Step title="Add routes">
    Add the docs routes to your `Route` enum:

    ```rust
    #[derive(Debug, Clone, Routable, PartialEq)]
    enum Route {
        #[layout(MyDocsLayout)]
            #[route("/docs")]
            DocsIndex {},
            #[route("/docs/:..slug")]
            DocsPage { slug: Vec<String> },
    }

    #[component]
    fn DocsIndex() -> Element {
        rsx! { DocsPageContent {} }
    }

    #[component]
    fn DocsPage(slug: Vec<String>) -> Element {
        rsx! { DocsPageContent {} }
    }
    ```
  </Step>
</Steps>

## What You Get

Once integrated, your docs site includes:

<CardGroup cols={2}>
  <Card title="Sidebar Navigation" icon="panel-left">
    Auto-generated from _nav.json with tab switching and group headings
  </Card>
  <Card title="Full-Text Search" icon="search">
    Built-in search modal (Cmd+K) across all doc content
  </Card>
  <Card title="API Reference" icon="server">
    Two-column endpoint pages generated from OpenAPI specs
  </Card>
  <Card title="Page Navigation" icon="arrow-right">
    Previous/next page links at the bottom of every page
  </Card>
</CardGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="Customization" icon="palette" href="/docs/guides/customization">
    Learn how to theme your site and configure navigation
  </Card>
  <Card title="Basic Usage" icon="book" href="/docs/guides/basic-usage">
    Explore all available MDX components
  </Card>
</CardGroup>
